{"version":3,"sources":["webpack:///src/components/Rest/Adver.vue","webpack:///./src/components/Rest/Adver.vue?10c2","webpack:///./src/components/Rest/Adver.vue","webpack:///./node_modules/babel-runtime/core-js/json/stringify.js","webpack:///./node_modules/core-js/library/fn/json/stringify.js"],"names":["Adver","data","_this","this","defaultList","imgName","visible","uploadList","state","modal2","imgSrc","ad_id","positLi","formValidate","name","city","time","img","poist","ruleValidate","required","message","trigger","validator","rule","value","callback","length","Error","modal1","pag","loading2","loading1","total","columns1","title","align","key","width","render","h","params","attrs","src","JSON","parse","row","ad_pic","response","style","cursor","on","click","timestampToTime","ad_addtime","split","ad_endtime","console","log","Date","color","props","type","size","marginRight","v","shoale","ad_name","ad_seat","push","String","imgS","confirm","transfer","on-ok","Axios","post","Qs","stringify","then","res","req","error","positList","$Message","errMsg","data1","methods","$refs","resetFields","handleSubmit","_this2","getTime","validate","valid","star","end","stringify_default","upload","fileList","splice","areaId","areaName","concat","num","info","nodes","page","i","quanx","handleView","handleRemove","file","indexOf","handleSuccess","url","handleFormatError","$Notice","warning","desc","handleMaxSize","handleBeforeUpload","check","cancel","setTimeout","mounted","Rest_Adver","_vm","_h","$createElement","_c","_self","padding","margin","_v","minHeight","background","staticStyle","margin-bottom","$event","loading","columns","height","border","float","text-align","margin-top","page-size","on-change","styles","textAlign","model","$$v","expression","max-width","alt","on-cancel","ref","rules","label-width","label","prop","placeholder","$set","placement","format","editable","_l","item","staticClass","status","nativeOn","_s","percent","percentage","hide-info","_e","display","show-upload-list","default-file-list","on-success","max-size","on-format-error","on-exceeded-size","before-upload","multiple","action","location","line-height","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","module","exports","default","__esModule","core","$JSON","it","apply","arguments"],"mappings":"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","file":"static/js/2.6ce6bb955ae9d52c3e2e.js","sourcesContent":["<template>\n  <Layout :style=\"{padding: '0 24px 24px'}\">\n    <Breadcrumb :style=\"{margin: '24px 0'}\">\n      <BreadcrumbItem>活动管理</BreadcrumbItem>\n    </Breadcrumb>\n\n    <Content :style=\"{padding: '24px', minHeight: '280px', background: '#fff'}\">\n\n      <Button @click=\"shoale()\" type=\"primary\" style=\"margin-bottom: 15px\">\n        <Icon type=\"md-add\"></Icon>\n        添加活动\n      </Button>\n      <Table :loading=\"loading2\" :columns=\"columns1\" :data=\"data1\" height=\"568\" border></Table>\n    </Content>\n    <div style=\"float: left;width: 100%;text-align: center;margin-top: 25px;\">\n      <Page :total=\"total\" :page-size=\"11\" @on-change=\"page\"/>\n    </div>\n\n    <Modal\n      v-model=\"modal2\"\n      title=\"活动主图\"\n      :styles=\"{textAlign:'center'}\">\n      <img style=\"max-width: 100%;\" :src=\"imgSrc\" alt=\"\">\n    </Modal>\n    <Modal\n      v-model=\"modal1\"\n      title=\"请认真填写banner\"\n      :loading=\"loading1\"\n      @on-ok=\"handleSubmit('formValidate')\"\n      @on-cancel=\"cancel\"\n      :styles=\"{width: '420px'}\">\n\n      <Form ref=\"formValidate\" :model=\"formValidate\" :rules=\"ruleValidate\" :label-width=\"80\">\n        <FormItem label=\"活动标题\" prop=\"name\">\n          <Input v-model=\"formValidate.name\" placeholder=\"请填写活动标题\"></Input>\n        </FormItem>\n        <FormItem label=\"活动位置\" prop=\"city\">\n          <Select v-model=\"formValidate.city\" placeholder=\"选择活动位置\">\n            <Option value=\"主页\">主页</Option>\n          </Select>\n        </FormItem>\n\n\n        <FormItem label=\"活动时间\" prop=\"time\">\n          <DatePicker v-model=\"formValidate.time\" placement=\"bottom-end\" placeholder=\"Select date\" format=\"yyyy/MM/dd\"\n                      :editable=\"false\" type=\"daterange\"></DatePicker>\n        </FormItem>\n\n        <FormItem label=\"图片上传（第1次张为主图，其余为详情）\" prop=\"img\">\n          <div class=\"demo-upload-list\" v-for=\"item in uploadList\">\n            <template v-if=\"item.status === 'finished'\">\n              <img :src=\"item.url\">\n              <div class=\"demo-upload-list-cover\">\n                <Icon type=\"ios-eye-outline\" @click.native=\"handleView(item.url)\">{{item.name}}</Icon>\n                <Icon type=\"ios-trash-outline\" @click.native=\"handleRemove(item)\"></Icon>\n              </div>\n            </template>\n            <template v-else>\n              <Progress v-if=\"item.showProgress\" :percent=\"item.percentage\" hide-info></Progress>\n            </template>\n          </div>\n          <Upload\n            ref=\"upload\"\n            :show-upload-list=\"false\"\n            :default-file-list=\"defaultList\"\n            :on-success=\"handleSuccess\"\n            :format=\"['jpg','jpeg','png']\"\n            :max-size=\"2048\"\n            :on-format-error=\"handleFormatError\"\n            :on-exceeded-size=\"handleMaxSize\"\n            :before-upload=\"handleBeforeUpload\"\n            multiple\n            type=\"drag\"\n\n            action=\"api/publics/picture/imgouter\"\n            :data=\"{location:'home'}\"\n\n            style=\"display: inline-block;width:58px;\">\n            <div style=\"width: 58px;height:58px;line-height: 58px;\">\n              <Icon type=\"ios-camera\" size=\"20\"></Icon>\n            </div>\n          </Upload>\n        </FormItem>\n      </Form>\n    </Modal>\n\n\n    <Modal title=\"View Image\" v-model=\"visible\"\n           :styles=\"{textAlign:'center'}\">\n      <img :src=\"imgName\" v-if=\"visible\" style=\"max-width: 100%\">\n    </Modal>\n  </Layout>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  export default {\n\n    data() {\n      const validatePassCheck = (rule, value, callback) => {\n        if (this.uploadList.length > 6) {\n          callback(new Error('最多选择6张图片'));\n        } else if(this.uploadList.length < 1) {\n          callback(new Error('请上传图片'));\n        } else {\n          callback();\n        }\n      };\n      const validateTime = (rule, value, callback) => {\n        if (this.formValidate.time[0].length < 1) {\n          callback(new Error('请选择日期'));\n        } else {\n          callback();\n        }\n      };\n      return {\n        defaultList: [],\n        imgName: '',\n        visible: false,\n        uploadList: [],\n        state: 0,\n        modal2: false,\n        imgSrc: '',\n        ad_id: '',\n\n        positLi: [],\n        formValidate: {\n          name: '',\n          city: '',\n          time: [],\n          img: '',\n        },\n        poist: [],\n        ruleValidate: {\n          name: [\n            {required: true, message: '请填写活动标题!', trigger: 'blur'}\n          ],\n          city: [\n            {required: true, message: '请选择活动位置!', trigger: 'change'}\n          ],\n          time: [\n            {required: true, validator: validateTime, trigger: 'change'}\n          ],\n          img: [\n            {required: true, validator: validatePassCheck, trigger: 'change'}\n          ],\n        },\n        modal1: false,\n        pag: 1,\n        loading2: true,\n        loading1: true,\n        total: 0,\n        columns1: [\n          {\n            title: 'ID',\n            align: 'center',\n            key: 'ad_id',\n            width: 50\n          },\n          {\n            title: '活动标题',\n            align: 'center',\n            key: 'ad_name',\n          },\n          {\n            title: '活动主图',\n            align: 'center',\n            key: 'banner_url',\n            render: (h, params) => {\n              return h('div', [\n                h('img', {\n                  attrs: {\n                    src: 'http://img.gsfzd.com/' + JSON.parse(params.row.ad_pic)[0].response,\n                  },\n                  style: {\n                    width: '30px',\n                    cursor: 'pointer'\n                  },\n                  on: {\n                    click: () => {\n                      this.modal2 = true;\n                      this.imgSrc = 'http://img.gsfzd.com/' + JSON.parse(params.row.ad_pic)[0].response\n                    }\n                  }\n                })\n              ])\n            }\n          },\n          {\n            title: '活动位置',\n            align: 'center',\n            key: 'ad_seat'\n          },\n          {\n            title: '开始时间',\n            align: 'center',\n            key: 'ad_addtime',\n            render: (h, params) => {\n              return h('div', [\n                h('p', this.timestampToTime(params.row.ad_addtime).split(' ')[0])\n              ])\n            }\n          },\n          {\n            title: '结束时间',\n            align: 'center',\n            key: 'ad_endtime',\n            render: (h, params) => {\n              return h('div', [\n                h('p', this.timestampToTime(params.row.ad_endtime).split(' ')[0])\n              ])\n            }\n          },\n          {\n            title: '活动状态',\n            align: 'center',\n            render:(h,params)=>{\n              console.log(params.row)\n              if(params.row.ad_endtime+86400<Date.parse(new Date())/1000){\n                return h('div', [\n                  h('del', {\n                  },'已结束')\n                ])\n              }else if(params.row.ad_addtime>Date.parse(new Date())/1000){\n                return h('div', [\n                  h('p', {\n                    style:{\n                      color:'#19be6b'\n                    }\n                  },'未开始')\n                ])\n              } else{\n                return h('div', [\n                  h('p',{\n                    style:{\n                      color:'#2d8cf0 '\n                    }\n                  }, '进行中')\n                ])\n              }\n            }\n          },\n          {\n            title: '操作',\n            align: 'center',\n            render: (h, params) => {\n              return h('div', [\n                h('Button', {\n                  props: {\n                    type: 'primary',\n                    size: 'small'\n                  },\n                  style: {\n                    marginRight: '5px'\n                  },\n                  on: {\n                    click: () => {\n                      console.log(params.row);\n                      let v = this;\n                      v.shoale();\n                      v.state = 1;\n\n                      v.ad_id = params.row.ad_id;\n                      v.formValidate.name = params.row.ad_name;\n                      v.formValidate.city = params.row.ad_seat;\n                      v.defaultList = JSON.parse(params.row.ad_pic);\n\n                      v.formValidate.time = [];\n                      v.formValidate.time.push(String(v.timestampToTime(params.row.ad_addtime).split(' ')[0]))\n                      v.formValidate.time.push(String(v.timestampToTime(params.row.ad_endtime).split(' ')[0]))\n\n                      v.imgS()\n                    }\n                  }\n                }, '修改'),\n                h('Poptip', {\n                  props: {\n                    confirm: true,\n                    transfer: true,\n                    title: '是否继续删除该banner?',\n                  },\n                  on: {\n                    'on-ok': () => {\n                      let v = this;\n                      v.Axios.post('/api/index.php/admin/ad/del', v.Qs.stringify({\n                        ad_id: params.row.ad_id\n                      })).then((res, req) => {\n                        if (res.data.error === 0) {\n                          v.positList();\n                        } else {\n                          v.$Message.error(res.data.errMsg)\n                        }\n                      })\n                    }\n                  }\n                }, [\n                  h('Button', {\n                    props: {\n                      type: 'error',\n                      size: 'small'\n                    }\n                  }, '删除')\n                ])\n\n              ]);\n            }\n          }\n        ],\n        data1: []\n      }\n    },\n    methods: {\n\n      //显示添加修改管理员弹窗\n      shoale() {\n        this.$refs['formValidate'].resetFields();\n        this.state = 0;\n        this.modal1 = true;\n        this.loading1 = true;\n        this.city();\n      },\n\n      //添加管理员账号列表\n      handleSubmit(name) {\n        console.log(new Date(this.formValidate.time[0]).getTime() / 1000);\n        this.$refs[name].validate((valid) => {\n          if (valid) {\n            let v = this;\n            let star = new Date(this.formValidate.time[0]).getTime() / 1000;\n            let end = new Date(this.formValidate.time[1]).getTime() / 1000;\n            v.Axios.post('/api/index.php/admin/ad/add', v.Qs.stringify({\n              ad_id: v.state === 0 ? '' : v.ad_id,\n              ad_name: v.formValidate.name,\n              ad_seat: v.formValidate.city,\n              ad_pic: String(JSON.stringify(v.uploadList)),\n              ad_addtime: star,\n              ad_endtime: end,\n            })).then((res, req) => {\n\n              console.log(res.data)\n              if (res.data.error === 0) {\n                v.modal1 = false;\n                v.positList();\n                v.$refs['formValidate'].resetFields();\n                v.$refs.upload.fileList.splice(0, 6);\n              } else {\n                v.$Message.error(res.data.errMsg);\n                v.loading1 = false\n              }\n            });\n          } else {\n            this.$Message.error('添加活动失败!');\n            this.loading1 = false\n          }\n        })\n      },\n\n      //地区列表\n      city() {\n        let v = this;\n        v.Axios.post('/api/index.php/admin/banner/city').then((res, req) => {\n          if (res.data.error === 0) {\n            let a = [{areaId: 0, areaName: '全部显示'}];\n            v.positLi = a.concat(res.data.data);\n          } else {\n            v.$Message.error(res.data.errMsg)\n          }\n        })\n      },\n\n      //banner列表\n      positList() {\n        let v = this;\n        v.loading2 = true;\n        v.Axios.post('/api/index.php/admin/ad/index', v.Qs.stringify({\n          pag: v.pag,\n          num: 11\n        })).then((res, req) => {\n          console.log(res.data)\n          v.loading2 = false;\n          if (res.data.error === 0) {\n            v.data1 = res.data.data.info;\n            v.total = res.data.data.nodes\n          } else {\n            v.$Message.error(res.data.errMsg)\n          }\n        })\n      },\n\n      //分页\n      page(i) {\n        this.pag = i;\n        this.positList()\n      },\n\n\n      //权限LIST\n      quanx() {\n        let v = this;\n        v.Axios.post('/api/index.php/admin/role/index1').then((res, req) => {\n          if (res.data.error === 0) {\n            v.poist = res.data.data;\n          } else {\n            v.$Message.error(res.data.errMsg);\n          }\n        })\n      },\n\n      handleView(name) {\n        this.imgName = name;\n        this.visible = true;\n      },\n      handleRemove(file) {\n        const fileList = this.$refs.upload.fileList;\n        this.$refs.upload.fileList.splice(fileList.indexOf(file), 1);\n      },\n      handleSuccess(res, file) {\n        file.url = 'http://img.gsfzd.com/' + res;\n        file.name = '7eb99afb9d5f317c912f08b5212fd69a';\n      },\n      handleFormatError(file) {\n        this.$Notice.warning({\n          title: 'The file format is incorrect',\n          desc: 'File format of ' + file.name + ' is incorrect, please select jpg or png.'\n        });\n      },\n      handleMaxSize(file) {\n        this.$Notice.warning({\n          title: 'Exceeding file size limit',\n          desc: 'File  ' + file.name + ' is too large, no more than 2M.'\n        });\n      },\n      handleBeforeUpload() {\n        const check = this.uploadList.length < 6;\n        if (!check) {\n          this.$Notice.warning({\n            title: 'Up to five pictures can be uploaded.'\n          });\n        }\n        return check;\n      },\n\n      cancel() {\n        this.$Message.info('你点击了取消');\n\n        this.$refs.upload.fileList.splice(0, 6);\n      },\n\n      imgS() {\n        let v = this;\n        setTimeout(function () {\n          v.uploadList = v.$refs.upload.fileList;\n        }, 0)\n      }\n    },\n    mounted() {\n      this.imgS();\n      this.quanx();\n      this.positList()\n    }\n  }\n</script>\n<style lang=\"less\">\n  .demo-upload-list {\n    position:relative;\n    display: inline-block;\n    width: 60px;\n    height: 60px;\n    text-align: center;\n    line-height: 60px;\n    border: 1px solid transparent;\n    border-radius: 4px;\n    overflow: hidden;\n    background: #fff;\n    position: relative;\n    box-shadow: 0 1px 1px rgba(0, 0, 0, .2);\n    margin-right: 4px;\n  }\n\n  .demo-upload-list img {\n    position: absolute;\n    margin: auto;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    width: 100%;\n  }\n\n  .demo-upload-list-cover {\n    display: none;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: rgba(0, 0, 0, .6);\n  }\n\n  .demo-upload-list:hover .demo-upload-list-cover {\n    display: block;\n  }\n\n  .demo-upload-list-cover i {\n    color: #fff;\n    font-size: 20px;\n    cursor: pointer;\n    margin: 0 2px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Rest/Adver.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Layout',{style:({padding: '0 24px 24px'})},[_c('Breadcrumb',{style:({margin: '24px 0'})},[_c('BreadcrumbItem',[_vm._v(\"活动管理\")])],1),_vm._v(\" \"),_c('Content',{style:({padding: '24px', minHeight: '280px', background: '#fff'})},[_c('Button',{staticStyle:{\"margin-bottom\":\"15px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.shoale()}}},[_c('Icon',{attrs:{\"type\":\"md-add\"}}),_vm._v(\"\\n      添加活动\\n    \")],1),_vm._v(\" \"),_c('Table',{attrs:{\"loading\":_vm.loading2,\"columns\":_vm.columns1,\"data\":_vm.data1,\"height\":\"568\",\"border\":\"\"}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"float\":\"left\",\"width\":\"100%\",\"text-align\":\"center\",\"margin-top\":\"25px\"}},[_c('Page',{attrs:{\"total\":_vm.total,\"page-size\":11},on:{\"on-change\":_vm.page}})],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"活动主图\",\"styles\":{textAlign:'center'}},model:{value:(_vm.modal2),callback:function ($$v) {_vm.modal2=$$v},expression:\"modal2\"}},[_c('img',{staticStyle:{\"max-width\":\"100%\"},attrs:{\"src\":_vm.imgSrc,\"alt\":\"\"}})]),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"请认真填写banner\",\"loading\":_vm.loading1,\"styles\":{width: '420px'}},on:{\"on-ok\":function($event){_vm.handleSubmit('formValidate')},\"on-cancel\":_vm.cancel},model:{value:(_vm.modal1),callback:function ($$v) {_vm.modal1=$$v},expression:\"modal1\"}},[_c('Form',{ref:\"formValidate\",attrs:{\"model\":_vm.formValidate,\"rules\":_vm.ruleValidate,\"label-width\":80}},[_c('FormItem',{attrs:{\"label\":\"活动标题\",\"prop\":\"name\"}},[_c('Input',{attrs:{\"placeholder\":\"请填写活动标题\"},model:{value:(_vm.formValidate.name),callback:function ($$v) {_vm.$set(_vm.formValidate, \"name\", $$v)},expression:\"formValidate.name\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"活动位置\",\"prop\":\"city\"}},[_c('Select',{attrs:{\"placeholder\":\"选择活动位置\"},model:{value:(_vm.formValidate.city),callback:function ($$v) {_vm.$set(_vm.formValidate, \"city\", $$v)},expression:\"formValidate.city\"}},[_c('Option',{attrs:{\"value\":\"主页\"}},[_vm._v(\"主页\")])],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"活动时间\",\"prop\":\"time\"}},[_c('DatePicker',{attrs:{\"placement\":\"bottom-end\",\"placeholder\":\"Select date\",\"format\":\"yyyy/MM/dd\",\"editable\":false,\"type\":\"daterange\"},model:{value:(_vm.formValidate.time),callback:function ($$v) {_vm.$set(_vm.formValidate, \"time\", $$v)},expression:\"formValidate.time\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"图片上传（第1次张为主图，其余为详情）\",\"prop\":\"img\"}},[_vm._l((_vm.uploadList),function(item){return _c('div',{staticClass:\"demo-upload-list\"},[(item.status === 'finished')?[_c('img',{attrs:{\"src\":item.url}}),_vm._v(\" \"),_c('div',{staticClass:\"demo-upload-list-cover\"},[_c('Icon',{attrs:{\"type\":\"ios-eye-outline\"},nativeOn:{\"click\":function($event){_vm.handleView(item.url)}}},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('Icon',{attrs:{\"type\":\"ios-trash-outline\"},nativeOn:{\"click\":function($event){_vm.handleRemove(item)}}})],1)]:[(item.showProgress)?_c('Progress',{attrs:{\"percent\":item.percentage,\"hide-info\":\"\"}}):_vm._e()]],2)}),_vm._v(\" \"),_c('Upload',{ref:\"upload\",staticStyle:{\"display\":\"inline-block\",\"width\":\"58px\"},attrs:{\"show-upload-list\":false,\"default-file-list\":_vm.defaultList,\"on-success\":_vm.handleSuccess,\"format\":['jpg','jpeg','png'],\"max-size\":2048,\"on-format-error\":_vm.handleFormatError,\"on-exceeded-size\":_vm.handleMaxSize,\"before-upload\":_vm.handleBeforeUpload,\"multiple\":\"\",\"type\":\"drag\",\"action\":\"api/publics/picture/imgouter\",\"data\":{location:'home'}}},[_c('div',{staticStyle:{\"width\":\"58px\",\"height\":\"58px\",\"line-height\":\"58px\"}},[_c('Icon',{attrs:{\"type\":\"ios-camera\",\"size\":\"20\"}})],1)])],2)],1)],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"View Image\",\"styles\":{textAlign:'center'}},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[(_vm.visible)?_c('img',{staticStyle:{\"max-width\":\"100%\"},attrs:{\"src\":_vm.imgName}}):_vm._e()])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d5b14f7a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Rest/Adver.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d5b14f7a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Adver.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Adver.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Adver.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d5b14f7a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Adver.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Rest/Adver.vue\n// module id = null\n// module chunks = ","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/json/stringify.js\n// module id = mvHQ\n// module chunks = 2 3","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/json/stringify.js\n// module id = qkKv\n// module chunks = 2 3"],"sourceRoot":""}