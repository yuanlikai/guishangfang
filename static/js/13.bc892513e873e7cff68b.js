webpackJsonp([13],{IzqL:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={data:function(){var t=this;return{hou_id:"",hou_count_id:"",state:0,admin_id:"",disabled:!1,positLi:[],poist:[],modal1:!1,pag:1,loading2:!0,loading1:!0,total:0,formValidate:{name:"0",time:[]},ruleValidate:{name:[{required:!0,message:"请填写活动标题!",trigger:"blur"}],time:[{required:!0,validator:function(e,a,o){console.log(t.formValidate.time[0].length),t.formValidate.time[0]<1?o(new Error("请选择日期")):o()},trigger:"change"}]},columns1:[{title:"ID",key:"hou_id",align:"center",width:50},{title:"用户ID",key:"user_id",align:"center"},{title:"楼盘名称",key:"hou_names",align:"center"},{title:"楼盘地址",key:"hou_address"},{title:"均价",align:"center",render:function(t,e){return t("div",[t("p",e.row.hou_pirce+"/m²")])}},{title:"装修",align:"center",key:"hou_br",render:function(t,e){var a=void 0;switch(e.row.hou_br){case 0:a="毛坯";break;case 1:a="简装";break;case 2:a="中等装";break;case 3:a="精装";break;case 4:a="豪华装";break;default:a="暂无"}return t("div",[t("div",a)])}},{title:"操作",align:"center",width:240,render:function(e,a){return e("div",[e("Button",{props:{type:"success",size:"small"},style:{marginRight:"5px"},on:{click:function(){var e=t;e.hou_id=a.row.hou_id,e.modal1=!0,e.formValidate.time=[],e.formValidate.name="0",e.Axios.post("https://app.gsfzd.com/index.php/admin/hou/cIndex",e.Qs.stringify({hou_id:a.row.hou_id})).then(function(t,a){0===t.data.error?0===t.data.data.length?e.hou_count_id="":(e.hou_count_id=t.data.data[0].hou_count_id,e.formValidate.name=String(t.data.data[0].hou_count_show),e.formValidate.time=[],e.formValidate.time.push(String(e.timestampToTime(t.data.data[0].hou_count_addtime))),e.formValidate.time.push(String(e.timestampToTime(t.data.data[0].hou_count_endtime)))):e.$Message.error(t.data.errMsg)})}}},"优惠"),e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.$router.push({name:"superiorAdd",query:{hou_id:a.row.hou_id}})}}},"详情"),e("Button",{props:{type:"warning",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.$router.push({name:"deveType",query:{hou_id:a.row.hou_id,hou_names:a.row.hou_names,hou_isadout:a.row.hou_isadout}})}}},"户型"),e("Poptip",{props:{confirm:!0,transfer:!0,title:"是否继续删除该职位?"},on:{"on-ok":function(){var e=t;e.Axios.post("https://app.gsfzd.com/index.php/admin/hou/del",e.Qs.stringify({hou_id:a.row.hou_id})).then(function(t,a){0===t.data.error?e.positList():e.$Message.error(t.data.errMsg)})}}},[e("Button",{props:{type:"error",size:"small"}},"删除")])])}}],data1:[]}},methods:{handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(t){var a=e,o=new Date(a.formValidate.time[0]).getTime()/1e3,i=new Date(a.formValidate.time[1]).getTime()/1e3;a.Axios.post("https://app.gsfzd.com/index.php/admin/hou/cdd",a.Qs.stringify({hou_id:a.hou_id,hou_count_id:a.hou_count_id,hou_count_addtime:o,hou_count_endtime:i,hou_count_show:a.formValidate.name})).then(function(t,e){0===t.data.error?(a.modal1=!1,a.$Message.success(t.data.errMsg)):(a.$Message.error(t.data.errMsg),a.loading1=!1)})}else e.$Message.error("添加活动失败!"),e.loading1=!1})},positList:function(){var t=this;t.loading2=!0,t.Axios.post("https://app.gsfzd.com/index.php/admin/hou/index",t.Qs.stringify({pag:t.pag,num:11})).then(function(e,a){console.log(e.data.data),t.loading2=!1,0===e.data.error?(t.data1=e.data.data.info,t.total=e.data.data.nodes):t.$Message.error(e.data.errMsg)})},page:function(t){this.pag=t,this.positList()},cancel:function(){this.$Message.info("你点击了取消")}},mounted:function(){this.positList()}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",{style:{padding:"0 24px 24px"}},[a("Breadcrumb",{style:{margin:"24px 0"}},[a("BreadcrumbItem",[t._v("开发商已审核楼盘")])],1),t._v(" "),a("Content",{style:{padding:"24px",minHeight:"280px",background:"#fff"}},[a("Button",{staticStyle:{"margin-bottom":"15px"},attrs:{type:"primary"},on:{click:function(e){t.$router.push({name:"superiorAdd",query:{deve:"true"}})}}},[a("Icon",{attrs:{type:"md-add"}}),t._v("\n      添加开发商楼盘\n    ")],1),t._v(" "),a("Table",{attrs:{loading:t.loading2,columns:t.columns1,data:t.data1,height:"568",border:""}})],1),t._v(" "),a("div",{staticStyle:{float:"left",width:"100%","text-align":"center","margin-top":"25px"}},[a("Page",{attrs:{total:t.total,"page-size":11},on:{"on-change":t.page}})],1),t._v(" "),a("Modal",{attrs:{title:"请认真填写优惠时间",loading:t.loading1,styles:{width:"420px"}},on:{"on-ok":function(e){t.handleSubmit("formValidate")},"on-cancel":t.cancel},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[a("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":80}},[a("FormItem",{attrs:{label:"优惠状态",prop:"name"}},[a("RadioGroup",{model:{value:t.formValidate.name,callback:function(e){t.$set(t.formValidate,"name",e)},expression:"formValidate.name"}},[a("Radio",{attrs:{label:"0"}},[t._v("展示")]),t._v(" "),a("Radio",{attrs:{label:"1"}},[t._v("不展示")])],1)],1),t._v(" "),a("FormItem",{attrs:{label:"优惠时间",prop:"time"}},[a("DatePicker",{attrs:{placement:"bottom-end",placeholder:"Select date",format:"yyyy/MM/dd",editable:!1,type:"daterange"},model:{value:t.formValidate.time,callback:function(e){t.$set(t.formValidate,"time",e)},expression:"formValidate.time"}})],1)],1)],1)],1)},staticRenderFns:[]};var n=a("VU/8")(o,i,!1,function(t){a("T12O")},null,null);e.default=n.exports},T12O:function(t,e){}});
//# sourceMappingURL=13.bc892513e873e7cff68b.js.map