webpackJsonp([24],{g3va:function(t,e){},n3JN:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={data:function(){var t=this;return{state:0,hou_type_id:"",formValidate:{name:""},poist:[],ruleValidate:{name:[{required:!0,message:"请输入楼盘类型名称!",trigger:"blur"}]},modal1:!1,pag:1,loading2:!0,loading1:!0,total:0,columns1:[{title:"ID",key:"hou_type_id"},{title:"类型名称",key:"hou_type_title"},{title:"操作",align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){var e=t;e.state=1,e.modal1=!0,e.loading1=!0,e.hou_type_id=a.row.hou_type_id,e.formValidate.name=a.row.hou_type_title}}},"修改"),e("Poptip",{props:{confirm:!0,transfer:!0,title:"是否继续删除该类型?"},on:{"on-ok":function(){var e=t;e.Axios.post("https://app.gsfzd.com/index.php/admin/hou_type/del",e.Qs.stringify({hou_type_id:a.row.hou_type_id})).then(function(t,a){0===t.data.error?e.positList():e.$Message.error(t.data.errMsg)})}}},[e("Button",{props:{type:"error",size:"small"}},"删除")])])}}],data1:[]}},methods:{shoale:function(){this.$refs.formValidate.resetFields(),this.state=0,this.modal1=!0,this.loading1=!0,console.log(1)},handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(t){var a=e,o={};o=0===a.state?{hou_type_id:"",hou_type_title:a.formValidate.name}:{hou_type_id:a.hou_type_id,hou_type_title:a.formValidate.name},a.Axios.post("https://app.gsfzd.com/index.php/admin/hou_type/add",a.Qs.stringify(o)).then(function(t,e){0===t.data.error?(a.modal1=!1,a.positList(),a.$refs.formValidate.resetFields()):(a.$Message.error(t.data.errMsg),a.loading1=!1)})}else e.$Message.error("添加管理员账号失败!"),e.loading1=!1})},positList:function(){var t=this;t.loading2=!0,t.Axios.post("https://app.gsfzd.com/index.php/admin/hou_type/index",t.Qs.stringify({pag:t.pag,num:11})).then(function(e,a){t.loading2=!1,0===e.data.error?(t.data1=e.data.data.info,t.total=e.data.data.nodes):t.$Message.error(e.data.errMsg)})},page:function(t){this.pag=t,this.positList()},quanx:function(){var t=this;t.Axios.post("https://app.gsfzd.com/index.php/admin/role/index1").then(function(e,a){0===e.data.error?t.poist=e.data.data:t.$Message.error(e.data.errMsg)})},cancel:function(){this.$Message.info("你点击了取消")}},mounted:function(){this.quanx(),this.positList()}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",{style:{padding:"0 24px 24px"}},[a("Breadcrumb",{style:{margin:"24px 0"}},[a("BreadcrumbItem",[t._v("楼盘管理")]),t._v(" "),a("BreadcrumbItem",[t._v("类型列表")])],1),t._v(" "),a("Content",{style:{padding:"24px",minHeight:"280px",background:"#fff"}},[a("Button",{staticStyle:{"margin-bottom":"15px"},attrs:{type:"primary"},on:{click:function(e){t.shoale()}}},[a("Icon",{attrs:{type:"md-add"}}),t._v("\n      添加类型\n    ")],1),t._v(" "),a("Table",{attrs:{loading:t.loading2,columns:t.columns1,data:t.data1,height:"568",border:""}})],1),t._v(" "),a("div",{staticStyle:{float:"left",width:"100%","text-align":"center","margin-top":"25px"}},[a("Page",{attrs:{total:t.total,"page-size":11},on:{"on-change":t.page}})],1),t._v(" "),a("Modal",{attrs:{title:"请认真填写楼盘类型",loading:t.loading1,styles:{width:"420px"}},on:{"on-ok":function(e){t.handleSubmit("formValidate")},"on-cancel":t.cancel},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[a("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":80}},[a("FormItem",{attrs:{label:"类型名称",prop:"name"}},[a("Input",{attrs:{maxlength:18,placeholder:"示例：普通住宅丶别墅丶商铺"},model:{value:t.formValidate.name,callback:function(e){t.$set(t.formValidate,"name",e)},expression:"formValidate.name"}})],1)],1)],1)],1)},staticRenderFns:[]};var n=a("VU/8")(o,i,!1,function(t){a("g3va")},null,null);e.default=n.exports}});
//# sourceMappingURL=24.6418ba243f4e44fff6ce.js.map